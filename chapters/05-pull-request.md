# PRの作成とセルフレビュー

> 提出ブランチ：`feature/05-pull-request`（PRのbase：`develop`）

## 1. この章のゴール
- `feature/課題名` から `develop` へ PR（Pull Request）を作成できる。
- PR に「目的・変更点・確認方法」を書ける。
- セルフレビュー（提出前の見直し）のやり方がわかる。

## 2. 概念の説明
- **PR（Pull Request）**：変更点の説明付きで「この変更を取り込んでください」とお願いする提出物です。
- **base（取り込み先）**：変更を入れたいブランチ（この運用では `develop`）。
- **compare（提出元）**：自分の作業ブランチ（例：`feature/課題名`）。
- **セルフレビュー**：提出前の読み直し。ミスを減らし、相手（メンター・チーム）が確認しやすくなります。

## 3. 実際の操作手順（Sourcetree + GitHub）
### 3-1. 事前準備：feature ブランチをプッシュ
- Sourcetree で `feature/05-pr-practice` をチェックアウト
- `Push` をクリック → `feature/05-pr-practice` にチェック → `Push`

### 3-1.2 PR本文はテンプレが出ます（このリポジトリの場合）
このリポジトリには PR テンプレ（`.github/pull_request_template.md`）が入っているので、PR を作ると最初から「目的・変更点・確認方法」などが表示されます。  
もしあなたの課題リポジトリにテンプレが無い場合でも、この章のテンプレ文（3-3）をコピペすれば同じ効果が出ます。

### 3-1.5 PR を作る前のチェック（1分で事故防止）
- 今いるブランチが `feature/...` になっている
- 変更はコミット済み（`File Status` が空、または意図したものだけ残っている）
- PR の取り込み先は `develop`（`main` ではない）

### 3-2. GitHub で PR を作成する（どこをクリックするか）
- GitHub でリポジトリを開く
- 上部の `Pull requests` をクリック
- `New pull request` をクリック
- `base` を **develop** にする
- `compare` を **feature/05-pr-practice** にする
- `Create pull request` をクリック
目印：`base` と `compare` は PR 作成画面の上部にあります（左が base、右が compare）。間違えてもドロップダウンを開いて選び直せます。

### 3-2.5 PRタイトルのコツ（メンターが一瞬で分かる）
例：
- `task1: READMEに自己紹介を追加`
- `task2: 〇〇画面を実装`

ポイントは「課題名 + 何をしたか」です。短くてOKです。

### 3-3. PR の説明文テンプレ（そのまま使ってOK）
PR の本文には最低限これだけ書ければ十分です。

- 目的（なぜやった？）
- 変更点（何を変えた？）
- 確認方法（どう見ればOK？）

例：
```md
## 目的
課題1の提出のため、READMEに自己紹介を追加しました。

## 変更点
- README.md に自己紹介を追記

## 確認方法
README.md を開いて自己紹介が表示されることを確認してください。
```

### 3-4. セルフレビュー（提出前の見直し）
- PR 画面の `Files changed` をクリック
- 変更差分（diff）を上から読む
- 次の観点をチェックする
  - 余計なファイルが混ざっていない？（例：画像の巨大ファイル、設定ファイルなど）
  - 誤字脱字、見出し、読みやすさはOK？
  - 「課題の要件」を満たしている？
目印：PR 画面上部のタブ列に `Conversation / Commits / Files changed` が並びます。`Files changed` で差分（diff）が読めます。

### 3-5. 修正が必要になったら（PRは作り直さなくてOK）
- お使いのエディタ（例：VS Code）で直す → Sourcetree でコミット → プッシュ
- PR は自動で更新されます（同じ PR に追加コミットが積まれます）

### 3-6. 画像の貼り方（任意：UI課題のとき便利）
- PR の本文やコメント欄に、画像ファイルを **ドラッグ&ドロップ** する
- 画像が表示されることを確認して送信する
※ この Git カリキュラム自体は「画像なし」でも進められます。必要な課題のときだけ使えばOKです。

## 4. よくあるミス・つまずきポイント
- base を `main` にしてしまう → この運用では基本 `develop` に出します。
- PR の説明が短すぎて意図が伝わらない → 「目的・変更点・確認方法」の3点セット。
- Sourcetree でプッシュしていない → GitHub に `feature/...` が出てこない。
- PR に「Conflicts」と出た → 第6章の手順で解決できます（焦らなくてOK）。

## 5. AIに聞いてみよう（質問例）
AIは今開いているページを自動で把握しています。状況だけ伝えればOKです。

**コピペ用テンプレ（PR作成/文章作成）**
```md
PRの目的：（例）課題1の提出
PRのbase/compare：（base=develop / compare=feature/___）
変更したファイル：（例）README.md
自分の不安：（例）PR本文が書けない / baseを間違えそう

→ PRタイトル案と本文（目的/変更点/確認方法）を作ってほしい
```

### 5-1. 具体例（このまま質問してOK）
```text
「`3-2 PR作成` です。表示されている base/compare は `base=___` / `compare=___`。正しい？間違ってたら “どこをクリックして直すか” だけ教えて」
「`3-3 PR本文` が書けない。変更したファイルが（___）で、やったことが（___）。メンターが読みやすい PR 本文を短く作って（目的/変更点/確認方法）」
「`3-4 セルフレビュー` で `Files changed` を見ています。変更ファイル一覧は（___）。**余計なファイルが混ざってないか**の観点で、チェックポイントを優先順に5つ教えて」
「PRを出したけど、追加修正が必要になった。PRを作り直す？それとも追加コミット？この章の `3-5` の手順を、Sourcetreeで押すボタン名で短く説明して」
「PRテンプレの項目が埋められない。私の変更内容に合わせて “箇条書き1〜2行ずつ” で埋めて（空欄：目的/変更点/確認方法）」
```

## 6. ハンズオン課題（成果物提出を想定）
- `feature/05-pr-practice` → `develop` の PR を作成する。
- PR 本文に「目的・変更点・確認方法」を書く。
- `Files changed` を読み、セルフレビューを行う（誤字1つでも見つけられたら大成功）。

## 7. チェックリスト（理解確認）
- [ ] PR の目的（なぜ挟むか）を説明できる。
- [ ] base=`develop` / compare=`feature/...` を選べる。
- [ ] PR 本文に「目的・変更点・確認方法」を書ける。

---

## 課題提出

この章には提出課題があります。

1. 上記のハンズオン課題を完了する
2. GitHub で `feature/05-pull-request` ブランチを作成し、PRを作成
3. [AI総合レビューツール](https://ai.studio/apps/drive/1AMqIqU4Bio4te7AWh5dly1Qzp7CesqP9?fullscreenApplet=true) でレビューを実行
4. 問題がなければ、スプレッドシートに **PR URL** と **完了日** を記入
